<div class="registro-container">
  <div class="status-bar">
    <span class="time">9:41</span>
    <span class="battery">100%</span>
  </div>

  <div class="registro-content">
    <div class="header">
      <button class="back-button" (click)="goToLogin()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
      </button>
      <div class="header-text">
        <h1>Crear cuenta</h1>
        <p>Para publicar empleos</p>
      </div>
    </div>

    <form [formGroup]="registroForm" (ngSubmit)="onSubmit()" class="registro-form">
      <div class="form-group">
        <label>DNI</label>
        <div class="dni-input-group">
          <input 
            type="text" 
            formControlName="dni"
            placeholder="45678912"
            class="form-input"
            maxlength="8"
            (blur)="verificarDni()"
          />
          <button 
            type="button" 
            class="btn-verificar"
            [class.verificado]="dniVerificado"
            [disabled]="dniVerificado"
          >
            <span *ngIf="dniVerificado">✓</span> 
            {{ dniVerificado ? 'Verificado' : 'Verificar' }}
          </button>
        </div>
        <small *ngIf="dniVerificado" class="text-success">
          Datos validados con RENIEC ✓
        </small>
      </div>

      <div class="form-row" *ngIf="dniVerificado">
        <div class="form-group">
          <label>Nombres</label>
          <input 
            type="text" 
            [value]="nombres"
            class="form-input"
            readonly
          />
        </div>
        <div class="form-group">
          <label>Apellidos</label>
          <input 
            type="text" 
            [value]="apellidos"
            class="form-input"
            readonly
          />
        </div>
      </div>

      <div class="form-group">
        <label>Celular (obligatorio)</label>
        <input 
          type="tel" 
          formControlName="celular"
          placeholder="+51 987 654 321"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label>Correo electrónico (opcional)</label>
        <input 
          type="email" 
          formControlName="email"
          placeholder="carlos.quispe@gmail.com"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label>Contraseña</label>
        <input 
          type="password" 
          formControlName="password"
          placeholder="••••••••"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label>Confirmar contraseña</label>
        <input 
          type="password" 
          formControlName="confirmarPassword"
          placeholder="••••••••"
          class="form-input"
        />
      </div>

      <button 
        type="submit" 
        class="btn-crear-cuenta" 
        [disabled]="!registroForm.valid || !dniVerificado || isLoading"
      >
        {{ isLoading ? 'Creando cuenta...' : 'Crear cuenta' }}
      </button>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <div class="terms-text">
        Al registrarte aceptas los <a href="#">Términos y Condiciones</a>
      </div>
    </form>
  </div>
</div>